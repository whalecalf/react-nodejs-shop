exports.id=518,exports.ids=[518],exports.modules={13256:(e,n,t)=>{Promise.resolve().then(t.t.bind(t,2583,23)),Promise.resolve().then(t.t.bind(t,26840,23)),Promise.resolve().then(t.t.bind(t,38771,23)),Promise.resolve().then(t.t.bind(t,13225,23)),Promise.resolve().then(t.t.bind(t,9295,23)),Promise.resolve().then(t.t.bind(t,43982,23))},50727:(e,n,t)=>{Promise.resolve().then(t.bind(t,67502))},66789:(e,n,t)=>{"use strict";t.d(n,{JC:()=>d,T$:()=>r,Wj:()=>o,dX:()=>l,tx:()=>c});var s=t(84255),i=t(96806),a=t.n(i);async function l(e){return s.Z.get(`/api/store?${a().stringify(e)}`)}async function o(e){return s.Z.post("/api/store",e)}async function c(e){return s.Z.get(`/api/store/${e}`)}async function r(e){return s.Z.delete(`/api/store/${e}`)}async function d(e,n){return s.Z.put(`/api/store/${e}`,n)}},67502:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>k});var s=t(95344),i=t(40759),a=t.n(i);t(23824),t(92616);var l=t(3729),o=t.n(l),c=t(2014),r=t(93465),d=t(89131),u=t(52148),m=t(59748),f=t(10707),h=t(3257),x=t.n(h),p=t(8428),g=t(90978),v=t.n(g),y=t(56506),j=t(50321);t(40148);let{Header:b,Content:N,Sider:E}=r.default;var _=[];function Z({children:e}){let n=(0,p.useRouter)(),[t,i]=(0,l.useState)({info:{nickName:""}}),a=JSON.parse(localStorage.getItem("user")||"").info.role;(0,l.useEffect)(()=>{_=a===j.N1.SELLER?[{key:"goods",icon:o().createElement("div",{className:"iconfont icon-shangpin-"}),label:`商品管理`,children:[{label:"商品列表",key:"/goods",icon:o().createElement("div",{className:"iconfont icon-shangpinliebiao"})},{label:"商品添加",key:"/goods/add",icon:o().createElement("div",{className:"iconfont icon-add-line"})}]},{key:"store",icon:o().createElement("div",{className:"iconfont icon-dianpu"}),label:`店铺管理`,children:[{label:"店铺列表",key:"/store",icon:o().createElement("div",{className:"iconfont icon-shangpinliebiao"})},{label:"订单列表",key:"/store/order",icon:o().createElement("div",{className:"iconfont icon-add-line"})}]}]:[{key:"log",icon:o().createElement("div",{className:"iconfont icon-rizhi"}),label:`日志管理`,children:[{label:"日志列表",key:"/log",icon:o().createElement("div",{className:"iconfont icon-shangpinliebiao"})},{label:"日志添加",key:"/log/add",icon:o().createElement("div",{className:"iconfont icon-add-line"})}]},{key:"category",icon:o().createElement("div",{className:"iconfont icon-fenlei"}),label:`分类管理`,children:[{label:"分类列表",key:"/category",icon:o().createElement("div",{className:"iconfont icon-shangpinliebiao"})},{label:"分类添加",key:"/category/add",icon:o().createElement("div",{className:"iconfont icon-add-line"})}]},{key:"user",icon:o().createElement("div",{className:"iconfont icon-yonghu"}),label:`用户管理`,children:[{label:"用户列表",key:"/user",icon:o().createElement("div",{className:"iconfont icon-shangpinliebiao"})},{label:"用户添加",key:"/user/add",icon:o().createElement("div",{className:"iconfont icon-add-line"})}]}]},[]);let h=[{key:"1",label:s.jsx(y.default,{href:"/user/edit/id",children:"用户中心"}),icon:o().createElement("div",{className:"iconfont icon-yonghu"})},{key:"2",label:s.jsx("span",{onClick:async()=>{localStorage?.removeItem("user"),d.ZP.success("登出成功"),n.push("/login")},children:"退出"}),icon:o().createElement("div",{className:"iconfont icon-tuichudenglu"})}],g=(0,p.usePathname)();return(0,l.useEffect)(()=>{},[]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(v(),{children:[s.jsx("title",{children:"Create Next App"}),s.jsx("meta",{name:"description",content:"Generated by create next app"}),s.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),s.jsx("link",{rel:"icon",href:"/favicon.ico"})]}),(0,s.jsxs)(r.default,{className:x().sectionInner,children:[(0,s.jsxs)(b,{style:{display:"flex",alignItems:"center"},children:[s.jsx("div",{className:x().logo,children:"商城后台管理系统"}),s.jsx(u.Z,{theme:"dark",mode:"horizontal",defaultSelectedKeys:["2"],style:{flex:1,minWidth:0}}),s.jsx("span",{className:x().userinfo,children:s.jsx(m.Z,{menu:{items:h},children:s.jsx("a",{onClick:e=>e.preventDefault(),children:(0,s.jsxs)(f.Z,{children:[t?.info?.nickName?t?.info?.nickName:"用户名",s.jsx(c.Z,{})]})})})})]}),s.jsx(N,{children:(0,s.jsxs)(r.default,{className:x().sectionContent,children:[s.jsx(E,{style:{background:"#fff"},children:s.jsx(u.Z,{mode:"inline",defaultSelectedKeys:[a===j.N1.SELLER?"/goods":"/log"],defaultOpenKeys:[a===j.N1.SELLER?"/goods":"/log"],selectedKeys:[g],style:{height:"100vh"},items:_,onClick:({key:e})=>{n.push(e)}})}),s.jsx(N,{className:x().content,children:e})]})})]})]})}function k({children:e}){let n=(0,p.usePathname)(),[t,i]=(0,l.useState)(!0);return((0,l.useEffect)(()=>{i(!1)},[e]),t)?s.jsx("html",{lang:"en",children:s.jsx("body",{className:a().className,children:(0,s.jsxs)("div",{className:"loading-wrap",children:[s.jsx("div",{className:"loading"}),s.jsx("div",{className:"loading-text",children:"loading..."})]})})}):s.jsx("html",{lang:"en",children:s.jsx("body",{className:a().className,children:"/login"===n||"/sign"===n?s.jsx("div",{children:e}):s.jsx(Z,{children:e})})})}},60551:(e,n,t)=>{"use strict";t.d(n,{Z:()=>l});var s=t(95344);t(3729);var i=t(2224),a=t.n(i);function l({children:e,title:n,operation:t}){return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:a().title,children:[n,s.jsx("span",{className:a().btn,children:t})]}),s.jsx("div",{className:a().content,children:e})]})}},45772:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>y});var s=t(95344),i=t(3729),a=t(85787),l=t(89131),o=t(54401),c=t(56934),r=t(95905),d=t(4953),u=t(96804),m=t(8428),f=t(40607),h=t.n(f),x=t(48869),p=t.n(x),g=t(60551),v=t(66789);function y({title:e,editData:n={_id:""}}){let t=(0,m.useRouter)(),[f]=a.Z.useForm();(0,i.useEffect)(()=>{console.log(n),n._id&&f.setFieldsValue({...n,createdAt:p()(n.createdAt)})},[n,f]);let x=async e=>{n._id?(e.createdAt=p()(e.createdAt).valueOf(),await (0,v.JC)(n._id,e),l.ZP.success("更新成功")):(e.createdAt=p()(e.createdAt).valueOf(),e.owner=JSON.parse(localStorage.getItem("user")||"").info._id,await (0,v.Wj)(e),l.ZP.success("创建成功")),t.push("/store")};return s.jsx(g.Z,{title:e,children:(0,s.jsxs)(a.Z,{labelCol:{span:8},wrapperCol:{span:16},layout:"horizontal",onFinish:x,initialValues:n,form:f,children:[s.jsx(a.Z.Item,{label:"名称",name:"name",children:s.jsx(o.default,{placeholder:"请输入"})}),s.jsx(a.Z.Item,{label:"注册资金",name:"capital",children:n._id?s.jsx(c.Z,{disabled:!0,placeholder:"请输入"}):s.jsx(c.Z,{placeholder:"请输入"})}),s.jsx(a.Z.Item,{label:"状态",name:"status",children:(0,s.jsxs)(r.ZP.Group,{children:[s.jsx(r.ZP,{value:"on",children:"正常"}),s.jsx(r.ZP,{value:"off",children:"关闭"})]})}),s.jsx(a.Z.Item,{label:"创建日期",name:"createdAt",initialValue:p()(n?n.createdAt:void 0),children:s.jsx(d.default,{})}),s.jsx(a.Z.Item,{colon:!1,children:s.jsx(u.ZP,{size:"large",htmlType:"submit",className:h().btn,children:n?._id?"更新":"创建"})})]})})}},50321:(e,n,t)=>{"use strict";var s,i,a,l;t.d(n,{Em:()=>o,N1:()=>i,Om:()=>s,Q_:()=>l,iy:()=>a}),function(e){e.MALE="male",e.FEMALE="female"}(s||(s={})),function(e){e.BUYER="buyer",e.SELLER="seller",e.ADMIN="admin"}(i||(i={})),function(e){e.ON="on",e.OFF="off"}(a||(a={})),function(e){e.ON="on",e.OFF="off"}(l||(l={}));let o=[{label:"正常",value:"on"},{label:"禁用",value:"off"}]},84255:(e,n,t)=>{"use strict";t.d(n,{Z:()=>l});var s=t(53608),i=t(97005),a=t(89131);let l=(e=>{let n=s.Z.create({timeout:5e3,...e});return n.interceptors.request.use(function(e){let n=localStorage.getItem("user"),t=n?JSON.parse(n).token:"";return e.headers.Authorization="Bearer "+t,e},function(e){return Promise.reject(e)}),n.interceptors.response.use(function(e){let{status:n,data:t,message:s}=e;return 200===n?t:401===n?i.default.push("/login"):void a.ZP.error(s||"服务端异常")},function(e){return e.response&&401===e.response.status?i.default.push("/login"):(a.ZP.error(e?.response?.data?.message||"服务端异常"),Promise.reject(e))}),n})({})},2224:e=>{e.exports={content:"Content_content__iP7sw",title:"Content_title__y3NnI",btn:"Content_btn__bySTU"}},3257:e=>{e.exports={logo:"Layout_logo__W99B1",userinfo:"Layout_userinfo__Bv0ik",sectionInner:"Layout_sectionInner__uAN6Q",sectionContent:"Layout_sectionContent__pqQWV"}},40607:e=>{e.exports={btn:"StoreForm_btn__eQh0m"}},21342:(e,n,t)=>{"use strict";t.r(n),t.d(n,{$$typeof:()=>a,__esModule:()=>i,default:()=>l});let s=(0,t(86843).createProxy)(String.raw`D:\毕业论文相关\shop\manage\src\app\layout.tsx`),{__esModule:i,$$typeof:a}=s,l=s.default},73881:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>i});var s=t(70337);let i=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,s.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]},23824:()=>{},40148:()=>{}};