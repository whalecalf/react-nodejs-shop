(()=>{var e={};e.id=19,e.ids=[19],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},39491:e=>{"use strict";e.exports=require("assert")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},12781:e=>{"use strict";e.exports=require("stream")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},81222:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>d,pages:()=>u,routeModule:()=>x,tree:()=>c});var s=r(50482),n=r(69108),a=r(62563),i=r.n(a),l=r(68300),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);r.d(t,o);let c=["",{children:["log",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,48009)),"D:\\毕业论文相关\\shop\\manage\\src\\app\\log\\page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,21342)),"D:\\毕业论文相关\\shop\\manage\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,69361,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],u=["D:\\毕业论文相关\\shop\\manage\\src\\app\\log\\page.tsx"],d="/log/page",p={require:r,loadChunk:()=>Promise.resolve()},x=new s.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/log/page",pathname:"/log",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},29832:(e,t,r)=>{Promise.resolve().then(r.bind(r,77249))},46164:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var s=r(3729),n=r.n(s),a=r(32066);let i=function(e,t,r){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n().createElement(a.Z,null),i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if("boolean"==typeof e?!e:void 0===t?!i:!1===t||null===t)return[!1,null];let l="boolean"==typeof t||null==t?s:t;return[!0,r?r(l):l]}},85336:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var s=r(3729);function n(){let[,e]=s.useReducer(e=>e+1,0);return e}},27976:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=r(73371).Z},63724:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=r(70465).Z},11264:(e,t,r)=>{"use strict";r.d(t,{R0:()=>o,iW:()=>l,m:()=>i});var s=r(84255),n=r(96806),a=r.n(n);async function i(e){return s.Z.get(`/api/logs?${a().stringify(e)}`)}async function l(e){return s.Z.post("/api/logs",e)}async function o(e){return s.Z.get(`/api/logs/${e}`)}},43965:(e,t,r)=>{"use strict";r.d(t,{DZ:()=>c,M_:()=>o,RF:()=>l,lE:()=>i,pf:()=>u,x4:()=>d});var s=r(84255),n=r(96806),a=r.n(n);async function i(e){return s.Z.get(`/api/users?${a().stringify(e)}`)}async function l(e){return s.Z.post("/api/users",e)}async function o(e){return s.Z.get(`/api/users/${e}`)}async function c(e){return s.Z.delete(`/api/users/${e}`)}async function u(e,t){return s.Z.put(`/api/users/${e}`,t)}async function d(e){return s.Z.post("/api/users/login",e)}},77249:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>_});var s=r(95344),n=r(60551),a=r(17827),i=r(90377),l=r(85787),o=r(10707),c=r(96804),u=r(63724),d=r(27976),p=r(54401),x=r(72472),h=r(5430),m=r(97658),g=r.n(m),y=r(48869),f=r.n(y),Z=r(8428),j=r(3729),w=r(11264),v=r(43965),b=r(50321);let q=[{title:"操作名称",dataIndex:"name",key:"name",width:170},{title:"描述",dataIndex:"description",key:"description",ellipsis:!0,width:300,render:e=>s.jsx(a.Z,{title:e,placement:"topLeft",children:e})},{title:"操作类型",dataIndex:"type",key:"type",width:170,render:e=>"新增"==e?s.jsx(i.Z,{color:"green",children:e}):"删除"==e?s.jsx(i.Z,{color:"red",children:e}):"修改"==e?s.jsx(i.Z,{color:"yellow",children:e}):void 0},{title:"ip地址",dataIndex:"address",key:"address",width:170},{title:"操作用户",dataIndex:"user",key:"user",width:170,render:e=>(console.log(e),e.nickName)},{title:"操作时间",dataIndex:"time",key:"time",render:e=>f()(e).format("YYYY-MM-DD"),width:130}];function _(){let[e]=l.Z.useForm(),t=(0,Z.useRouter)(),[r,a]=(0,j.useState)({current:1,pageSize:20,showSizeChanger:!0,total:0}),[i,m]=(0,j.useState)(),[y,f]=(0,j.useState)([]);async function _(e){let t=await (0,w.m)({current:r.current,pageSize:r.pageSize,...e}),{data:s}=t;m(s),a({...r,current:1,total:t.total})}(0,j.useEffect)(()=>{_(),(0,v.lE)({role:b.N1.ADMIN}).then(e=>{f(e.data)})},[]);let P=async t=>{a(t);let r=e.getFieldValue(name);m((await (0,w.m)({current:t.current,pageSize:t.pageSize,...r})).data)},k=async e=>{t.push(`/log/show/${e}`)},S=[...q,{title:"操作",key:"action",render:(e,t)=>s.jsx(o.Z,{children:s.jsx(c.ZP,{color:"green",type:"link",onClick:()=>{k(t._id)},children:"查看"})})}],I=async e=>{let t=await (0,w.m)({...e,current:r.current,pageSize:r.pageSize});m(t.data),a({...r,current:1,total:t.total})};return(0,s.jsxs)(n.Z,{title:"日志列表",operation:s.jsx(c.ZP,{onClick:()=>{t.push("/log/add")},children:"添加"}),children:[s.jsx(l.Z,{name:"search",form:e,onFinish:I,initialValues:{name:"",category:""},children:(0,s.jsxs)(u.Z,{gutter:24,children:[s.jsx(d.Z,{span:6,children:s.jsx(l.Z.Item,{name:"name",label:"操作名称",children:s.jsx(p.default,{placeholder:"请输入",allowClear:!0})})}),s.jsx(d.Z,{span:6,children:s.jsx(l.Z.Item,{name:"user",label:"操作用户",children:s.jsx(x.default,{placeholder:"请选择",options:y.map(e=>({label:e.name,value:e._id})),optionFilterProp:"label",allowClear:!0,showSearch:!0,style:{width:"150"}})})}),s.jsx(d.Z,{span:6,children:s.jsx(l.Z.Item,{label:"操作类型",name:"type",children:(0,s.jsxs)(x.default,{placeholder:"请选择",children:[s.jsx(x.default.Option,{children:"新增"}),s.jsx(x.default.Option,{children:"修改"}),s.jsx(x.default.Option,{children:"删除"})]})})}),s.jsx(d.Z,{span:6,children:s.jsx(l.Z.Item,{children:(0,s.jsxs)(o.Z,{children:[s.jsx(c.ZP,{htmlType:"submit",children:"搜索"}),s.jsx(c.ZP,{htmlType:"submit",children:"清空"})]})})})]})}),s.jsx("div",{className:g().tablewrap,children:s.jsx(h.Z,{dataSource:i,columns:S,scroll:{x:1e3,y:500},pagination:{...r,showTotal:()=>`共 ${r.total} 条`},onChange:P})})]})}},97658:e=>{e.exports={tablewrap:"log_tablewrap__82sky"}},48009:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>a,__esModule:()=>n,default:()=>i});let s=(0,r(86843).createProxy)(String.raw`D:\毕业论文相关\shop\manage\src\app\log\page.tsx`),{__esModule:n,$$typeof:a}=s,i=s.default}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[638,934,337,411,787,671,806,962,905,214,986],()=>r(81222));module.exports=s})();