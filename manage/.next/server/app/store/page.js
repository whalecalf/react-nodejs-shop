(()=>{var e={};e.id=114,e.ids=[114],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},39491:e=>{"use strict";e.exports=require("assert")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},12781:e=>{"use strict";e.exports=require("stream")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},67984:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>d,originalPathname:()=>p,pages:()=>l,routeModule:()=>x,tree:()=>u});var s=r(50482),n=r(69108),a=r(62563),i=r.n(a),o=r(68300),c={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>o[e]);r.d(t,c);let u=["",{children:["store",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,79209)),"D:\\毕业论文相关\\shop\\manage\\src\\app\\store\\page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,21342)),"D:\\毕业论文相关\\shop\\manage\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,69361,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],l=["D:\\毕业论文相关\\shop\\manage\\src\\app\\store\\page.tsx"],p="/store/page",d={require:r,loadChunk:()=>Promise.resolve()},x=new s.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/store/page",pathname:"/store",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:u}})},19274:(e,t,r)=>{Promise.resolve().then(r.bind(r,1338))},66789:(e,t,r)=>{"use strict";r.d(t,{JC:()=>l,T$:()=>u,Wj:()=>o,dX:()=>i,tx:()=>c});var s=r(84255),n=r(96806),a=r.n(n);async function i(e){return s.Z.get(`/api/store?${a().stringify(e)}`)}async function o(e){return s.Z.post("/api/store",e)}async function c(e){return s.Z.get(`/api/store/${e}`)}async function u(e){return s.Z.delete(`/api/store/${e}`)}async function l(e,t){return s.Z.put(`/api/store/${e}`,t)}},1338:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>_});var s,n=r(95344),a=r(60551),i=r(90377),o=r(93401),c=r(89131),u=r(10707),l=r(96804),p=r(5430),d=r(34738),x=r.n(d),g=r(8428),h=r(3729),m=r(48869),f=r.n(m),y=r(66789);!function(e){e.ON="on",e.OFF="off"}(s||(s={}));let q=[{title:"名称",dataIndex:"name",key:"name",width:170},{title:"状态",dataIndex:"status",key:"status",render:e=>e===s.ON?n.jsx(i.Z,{color:"green",children:"正常"}):n.jsx(i.Z,{color:"red",children:"禁用"})},{title:"注册资金",dataIndex:"capital",key:"capital",width:170},{title:"创建日期",dataIndex:"createdAt",key:"createdAt",render:e=>f()(e).format("YYYY-MM-DD"),width:130}];function _(){let e=(0,g.useRouter)(),[t,r]=(0,h.useState)({current:1,pageSize:20,showSizeChanger:!0,total:0}),[s,i]=(0,h.useState)();async function d(e){let s=await (0,y.dX)({current:t.current,pageSize:t.pageSize,owner:JSON.parse(localStorage.getItem("user")||"").info._id,...e});console.log(s);let{data:n}=s;i(n),r({...t,current:1,total:s.total})}(0,h.useEffect)(()=>{d()},[]);let m=t=>{e.push(`/store/edit/${t}`)},f=e=>{o.Z.confirm({title:"确定删除?",okText:"确定",cancelText:"取消",async onOk(){await (0,y.T$)(e),c.ZP.success("删除成功"),d()}})},_=[...q,{title:"操作",key:"action",render:(e,t)=>(0,n.jsxs)(u.Z,{children:[n.jsx(l.ZP,{type:"link",onClick:()=>{m(t._id)},children:"编辑"}),n.jsx(l.ZP,{type:"link",danger:!0,onClick:()=>{f(t._id)},children:"删除"})]})}];return n.jsx(a.Z,{title:"店铺列表",operation:n.jsx(l.ZP,{onClick:()=>{e.push("/store/add")},children:"添加"}),children:n.jsx("div",{className:x().tablewrap,children:n.jsx(p.Z,{dataSource:s,columns:_,scroll:{x:1e3,y:500},pagination:{...t,showTotal:()=>`共 ${t.total} 条`},onChange:e=>{r(e),(0,y.dX)({current:e.current,pageSize:e.pageSize})}})})})}},34738:e=>{e.exports={tablewrap:"store_tablewrap__3VPQb"}},79209:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>a,__esModule:()=>n,default:()=>i});let s=(0,r(86843).createProxy)(String.raw`D:\毕业论文相关\shop\manage\src\app\store\page.tsx`),{__esModule:n,$$typeof:a}=s,i=s.default}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[638,934,337,411,671,806,962,905,299,214,986],()=>r(67984));module.exports=s})();