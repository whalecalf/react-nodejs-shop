(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[895],{24654:function(){},91113:function(e,t,n){Promise.resolve().then(n.bind(n,85798))},83881:function(e,t,n){"use strict";n.d(t,{JC:function(){return l},T$:function(){return u},Wj:function(){return a},dX:function(){return o},tx:function(){return c}});var r=n(49135),s=n(13374),i=n.n(s);async function o(e){return r.Z.get("/api/store?".concat(i().stringify(e)))}async function a(e){return r.Z.post("/api/store",e)}async function c(e){return r.Z.get("/api/store/".concat(e))}async function u(e){return r.Z.delete("/api/store/".concat(e))}async function l(e,t){return r.Z.put("/api/store/".concat(e),t)}},20629:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(3827);n(64090);var s=n(71583),i=n.n(s);function o(e){let{children:t,title:n,operation:s}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:i().title,children:[n,(0,r.jsx)("span",{className:i().btn,children:s})]}),(0,r.jsx)("div",{className:i().content,children:t})]})}},85798:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return x}});var r=n(3827),s=n(64090),i=n(81583),o=n(80588),a=n(44839),c=n(88707),u=n(61773),l=n(55211),d=n(13565),f=n(47907),p=n(32194),h=n.n(p),m=n(89539),Z=n.n(m),_=n(20629),j=n(83881);function x(e){let{title:t,editData:n={_id:""}}=e,p=(0,f.useRouter)(),[m]=i.Z.useForm();(0,s.useEffect)(()=>{console.log(n),n._id&&m.setFieldsValue({...n,createdAt:Z()(n.createdAt)})},[n,m]);let x=async e=>{n._id?(e.createdAt=Z()(e.createdAt).valueOf(),await (0,j.JC)(n._id,e),o.ZP.success("更新成功")):(e.createdAt=Z()(e.createdAt).valueOf(),e.owner=JSON.parse(localStorage.getItem("user")||"").info._id,await (0,j.Wj)(e),o.ZP.success("创建成功")),p.push("/store")};return(0,r.jsx)(_.Z,{title:t,children:(0,r.jsxs)(i.Z,{labelCol:{span:8},wrapperCol:{span:16},layout:"horizontal",onFinish:x,initialValues:n,form:m,children:[(0,r.jsx)(i.Z.Item,{label:"名称",name:"name",children:(0,r.jsx)(a.default,{placeholder:"请输入"})}),(0,r.jsx)(i.Z.Item,{label:"注册资金",name:"capital",children:n._id?(0,r.jsx)(c.Z,{disabled:!0,placeholder:"请输入"}):(0,r.jsx)(c.Z,{placeholder:"请输入"})}),(0,r.jsx)(i.Z.Item,{label:"状态",name:"status",children:(0,r.jsxs)(u.ZP.Group,{children:[(0,r.jsx)(u.ZP,{value:"on",children:"正常"}),(0,r.jsx)(u.ZP,{value:"off",children:"关闭"})]})}),(0,r.jsx)(i.Z.Item,{label:"创建日期",name:"createdAt",initialValue:Z()(n?n.createdAt:void 0),children:(0,r.jsx)(l.default,{})}),(0,r.jsx)(i.Z.Item,{colon:!1,children:(0,r.jsx)(d.ZP,{size:"large",htmlType:"submit",className:h().btn,children:(null==n?void 0:n._id)?"更新":"创建"})})]})})}},49135:function(e,t,n){"use strict";var r=n(7908),s=n(37134),i=n(80588);t.Z=(e=>{let t=r.Z.create({timeout:5e3,...e});return t.interceptors.request.use(function(e){let t=localStorage.getItem("user"),n=t?JSON.parse(t).token:"";return e.headers.Authorization="Bearer "+n,e},function(e){return Promise.reject(e)}),t.interceptors.response.use(function(e){let{status:t,data:n,message:r}=e;return 200===t?n:401===t?s.default.push("/login"):void i.ZP.error(r||"服务端异常")},function(e){var t,n;return e.response&&401===e.response.status?s.default.push("/login"):(i.ZP.error((null==e?void 0:null===(n=e.response)||void 0===n?void 0:null===(t=n.data)||void 0===t?void 0:t.message)||"服务端异常"),Promise.reject(e))}),t})({})},71583:function(e){e.exports={content:"Content_content__iP7sw",title:"Content_title__y3NnI",btn:"Content_btn__bySTU"}},32194:function(e){e.exports={btn:"StoreForm_btn__eQh0m"}}},function(e){e.O(0,[4634,534,3565,7172,1583,7119,3374,1773,5211,8707,5435,2971,8069,1744],function(){return e(e.s=91113)}),_N_E=e.O()}]);